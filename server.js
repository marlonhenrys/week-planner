globalThis.IMBA_MANIFEST={"entry:src/main.imba?web":{"url":"/assets/main.SABZYEAG.js","path":"/home/runner/work/week-planner/week-planner/dist/public/assets/main.SABZYEAG.js"},"*?css":{"url":"/assets/index.A7CEXCGI.css","path":"/home/runner/work/week-planner/week-planner/dist/public/assets/index.A7CEXCGI.css"},"/assets/main.SABZYEAG.js":{},"/assets/main.76V46TP4.css":{},"/assets/index.A7CEXCGI.css":{}};globalThis.IMBA_ASSETS_PATH='assets'
var re=Object.create;var N=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var ne=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty;var ae=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ne(e))!oe.call(s,n)&&n!==t&&N(s,n,{get:()=>e[n],enumerable:!(r=se(e,n))||r.enumerable});return s};var d=(s,e,t)=>(t=s!=null?re(ie(s)):{},ae(e||!s||!s.__esModule?N(t,"default",{value:s,enumerable:!0}):t,s));var ve=require("cluster"),h=d(require("fs")),m=d(require("path")),k=require("events");var S=d(require("path"));function le(s,e){Object.defineProperty(s,"name",{value:e,configurable:!0})}var v,U=new(v=class{get rootDir(){return process.env.IMBA_OUTDIR||S.default.dirname(process.env.pm_exec_path||process.argv[1])}get publicPath(){return S.default.resolve(this.rootDir,process.env.IMBA_PUBDIR||globalThis.IMBA_PUBDIR||"public")}},(()=>{le(v,"Env")})(),v);var W=d(require("http")),_e=require("https");function l(s){let e;return s&&((e=s.toIterable)?e.call(s):s)}function _(s,e){Object.defineProperty(s,"name",{value:e,configurable:!0})}function L(s){var e,t;(t=(e=Object.getPrototypeOf(s.prototype).constructor)==null?void 0:e.inherited)==null||t.call(e,s)}var he=Symbol.for("#setup"),D=Symbol.for("#setup?"),pe=Symbol.for("#dom"),ce=Symbol.for("#server"),J={html:{"Content-Type":"text/html; charset=utf-8"},js:{"Content-Type":"text/javascript; charset=utf-8"},cjs:{"Content-Type":"text/javascript; charset=utf-8"},mjs:{"Content-Type":"text/javascript; charset=utf-8"},json:{"Content-Type":"application/json; charset=utf-8"},css:{"Content-Type":"text/css; charset=utf-8"},map:{"Content-Type":"application/json; charset=utf-8"},otf:{"Content-Type":"font/otf"},ttf:{"Content-Type":"font/ttf"},woff:{"Content-Type":"font/woff"},woff2:{"Content-Type":"font/woff2"},svg:{"Content-Type":"image/svg+xml"},avif:{"Content-Type":"image/avif"},gif:{"Content-Type":"image/gif"},png:{"Content-Type":"image/png"},apng:{"Content-Type":"image/apng"},webp:{"Content-Type":"image/webp"},jpg:{"Content-Type":"image/jpeg"},jpeg:{"Content-Type":"image/jpeg"},ico:{"Content-Type":"image/x-icon"},bmp:{"Content-Type":"image/bmp"},pdf:{"Content-Type":"application/pdf"},webm:{"Content-Type":"video/webm"},weba:{"Content-Type":"audio/webm"},avi:{"Content-Type":"video/x-msvideo"},mp3:{"Content-Type":"audio/mpeg"},mp4:{"Content-Type":"video/mp4"},m4a:{"Content-Type":"audio/m4a"},mov:{"Content-Type":"video/quicktime"},wmv:{"Content-Type":"video/x-ms-wmv"},mpeg:{"Content-Type":"video/mpeg"},wav:{"Content-Type":"audio/wav"},ogg:{"Content-Type":"audio/ogg"},ogv:{"Content-Type":"video/ogg"},oga:{"Content-Type":"audio/ogg"},opus:{"Content-Type":"audio/opus"}},u=globalThis.process,y=class extends Set{call(e,...t){var r;r=[];for(let n of l(this))r.push(n[e](...t));return r}close(e={}){var t;t=[];for(let r of l(this))t.push(r.close(e));return t}reload(e={}){var t;t=[];for(let r of l(this))t.push(r.reload(e));return t}broadcast(e,...t){var r;r=[];for(let n of l(this))r.push(n.broadcast(e,...t));return r}emit(e,t){var r;r=[];for(let n of l(this))r.push(n.emit(e,t));return r}},M=y;(()=>{_(y,"Servers"),L(y)})();var b=new M,g,Ce=new(g=class extends k.EventEmitter{constructor(){var e;super(...arguments),e=this,this.autoreload=!1,this.state={}}[he](){var e=this;if(this[D]!=!0&&(this[D]=!0,!0))return this.on("rebuild",function(t){let r=globalThis.IMBA_MANIFEST;return globalThis.IMBA_MANIFEST=t,b.broadcast("rebuild",t)}),this.on("reloading",function(t){var r;e.state.reloading=!0,r=[];for(let n of l(b))r.push(n.pause());return r}),this.on("reloaded",async function(t){var r;e.state.reloaded=!0,b.broadcast("reloaded"),await new Promise(function(o){return setTimeout(o,100)}),r=[];for(let o of l(b))r.push(o.close());let n=r;return setTimeout(function(){return u.exit(0)},100),await Promise.all(n),u.exit(0)}),!0}send(e){if(u.send instanceof Function)return u.send(e)}on(e,t){return super.on(...arguments)}reload(){if(!(this.isReloading!=!0&&(this.isReloading=!0,!0)))return this;if(this.state.reloading=!0,!u.env.IMBA_SERVE){console.warn("not possible to gracefully reload servers not started via imba start");return}this.send("reload")}},(()=>{_(g,"Process"),L(g)})(),g);function K(s,e=[],t=0){let r=globalThis.IMBA_MANIFEST[s];if(e.indexOf(s)>=0)return e;if(r!=null&&r.imports)for(let n=0,o=l(r==null?void 0:r.imports),a=o.length;n<a;n++){let i=o[n];e.push(i),K(i,e,t+1)}return e}var H=class{constructor(e,t,r={}){this.server=e,this.url=t,[this.pathname,this.query]=t.split("?"),this.ext=m.default.extname(this.pathname),this.headers={"Content-Type":"text/plain","Access-Control-Allow-Origin":"*","cache-control":"public, max-age=31536000"},Object.assign(this.headers,e.options.assetHeaders||{}),Object.assign(this.headers,J[this.ext.slice(1)]||{}),this.headers["max-age"]=864e5,r.imports&&e.options.preload!==!1&&(this.headers.Link=K(t).map(function(n){return"<"+n+">; rel=modulepreload; as=script"}).join(", ")),this.path=e.localPathForUrl(t)}respond(e,t){var r=this;return h.default.access(this.path,h.default.constants.R_OK,function(n){if(n)return t.writeHead(404,{}),t.end();try{if(r.server.options.setHeaders&&r.server.options.setHeaders(t,r.path),globalThis.BUN)return h.default.readFile(r.path,function(o,a){return t.writeHead(200,r.headers),t.end(a)});{let o=h.default.createReadStream(r.path);return t.writeHead(200,r.headers),o.pipe(t)}}catch{return t.writeHead(503,{}),t.end()}})}createReadStream(){return h.default.createReadStream(this.path)}pipe(e){return this.createReadStream().pipe(e)}},I=H;(()=>{_(H,"AssetResponder")})();var j=class{static wrap(e,t={}){return new this(e,t)}localPathForUrl(e){var o;let t,r,n=e.replace(/\?.*$/,"");return(o=this.urlToLocalPathMap)[n]??(o[n]=(t=m.default.resolve(U.publicPath,"."+n),r=h.default.existsSync(t)&&t,!r&&this.staticDir&&(t=m.default.resolve(this.staticDir,"."+n),r=h.default.existsSync(t)&&t),r))}headersForAsset(e){let t,r=m.default.extname(e);return t=Object.assign({"Content-Type":"text/plain","Access-Control-Allow-Origin":"*","cache-control":"public"},J[r.slice(1)]||{})}get manifest(){return globalThis.IMBA_MANIFEST||{}}constructor(e,t={}){var r=this;b.add(this),this.id=Math.random(),this.options=t,this.closed=!1,this.paused=!1,this.server=e,this.clients=new Set,this.stalledResponses=[],this.assetResponders={},this.urlToLocalPathMap={},this.publicExistsMap={},this.staticDir=globalThis.IMBA_STATICDIR||"",u.env.IMBA_PATH&&(this.devtoolsPath=m.default.resolve(u.env.IMBA_PATH,"dist","hmr.js")),this.scheme=e instanceof W.default.Server?"http":"https";let n=this.server._events.request,o=globalThis[pe];e.off("request",n),n[ce]=this,e.on("listening",function(){let a=r.server.address(),i=a.address;(i=="::"||i=="0.0.0.0")&&(i="localhost");let f=""+r.scheme+"://"+i+":"+a.port+"/";if(!u.env.IMBA_CLUSTER)return console.log("listening on "+f)}),this.handler=function(a,i){var O;let f,x=a.constructor.name=="Http2ServerRequest",p=a.url;if(r.paused||r.closed)return i.statusCode=302,i.setHeader("Location",a.url),x||i.setHeader("Connection","close"),r.closed?(x&&a.stream.session.close(),i.end()):r.stalledResponses.push(i);let A=a.headers,$;x?$=A[":scheme"]+"://"+A[":authority"]:$=(a.connection.encrypted?"https":"http")+"://"+A.host;let F=r.manifest[p];if(F&&r.localPathForUrl(p))return((O=r.assetResponders)[p]||(O[p]=new I(r,p,F))).respond(a,i);if((p.match(/\.[A-Z\d]{8}\./)||p.match(/\.\w{1,4}($|\?)/))&&(f=r.localPathForUrl(p)))try{let c=r.headersForAsset(f);if(t.setHeaders&&t.setHeaders(i,f),globalThis.BUN)return h.default.readFile(f,function(T,te){return T?(i.writeHead(500,{}),i.write("Error getting the file: "+T)):(i.writeHead(200,c),i.end(te))});{let T=h.default.createReadStream(f);return i.writeHead(200,c),T.pipe(i)}}catch{return i.writeHead(503,{}),i.end()}if(o){let c=new o.Location(a.url,$);return o.Document.create({location:c},function(){return n(a,i)})}else return n(a,i)},e.on("request",this.handler),e.on("close",function(){return console.log("server is closing!!!")})}broadcast(e,t={},r=this.clients){t=JSON.stringify(t);let n="data: "+t+`


`;for(let o of l(r))o.write("event: "+e+`
`),o.write(`id: imba
`),o.write(n);return this}pause(){return this.paused!=!0&&(this.paused=!0,!0)&&this.broadcast("paused"),this}resume(){if(this.paused!=!1&&(this.paused=!1,!0))return this.broadcast("resumed"),this.flushStalledResponses()}flushStalledResponses(){for(let e=0,t=l(this.stalledResponses),r=t.length;e<r;e++)t[e].end();return this.stalledResponses=[]}close(){var e=this;return this.pause(),new Promise(function(t){return e.closed=!0,e.server.close(t),e.flushStalledResponses()})}},R=j;(()=>{_(j,"Server")})();function V(s,...e){return R.wrap(s,...e)}var Z=d(require("fs"));function ue(s){let e;return s&&((e=s.toIterable)?e.call(s):s)}function Y(s,e){Object.defineProperty(s,"name",{value:e,configurable:!0})}function fe(s,e,t=[""]){for(let r=0,n=ue(t),o=n.length;r<o;r++){let a=n[r],i=s.indexOf(a);if(i>=0)return s.slice(0,i)+e+s.slice(i)}return s}var P=class{constructor(e){this.src=e}get entry(){var e;return(e=globalThis.IMBA_MANIFEST)==null?void 0:e[this.src]}get url(){return this.entry?this.entry.url:this.src}get path(){return this.entry?this.entry.path:null}get body(){return this.path?Z.default.readFileSync(this.path,"utf-8"):null}toString(){return this.url}},w=P;(()=>{Y(P,"ImbaAsset")})();function C(s){var t;let e;return(e=(t=globalThis.IMBA_MANIFEST)==null?void 0:t[s])?new w(s):s}var E=class{constructor(e,t){this.text=e,this.refs=t}get body(){var e=this;let t=this.text.replace(/ASSET_REF_(\d+)/g,function(r,n){var i;let o,a=e.refs[n];return a instanceof w?String(a):(o=(i=globalThis.IMBA_MANIFEST)==null?void 0:i[String(a)])?o.url:a});return globalThis.IMBA_HMR_PATH&&(t=fe(t,"<script src='/__hmr__.js'><\/script>",["<!--$head$-->","<!--$body$-->","<html",""])),t}toString(){return this.body}},B=E;(()=>{Y(E,"HtmlAsset")})();function q(s,e){return new B(s,e)}var z=C("*?css");var G=C("entry:src/main.imba?web");var de=[z,G],Q=q(`<!DOCTYPE html>
<html lang="en">
  <head><!--$head$-->
    <title>Week Planner</title>
    <link rel="icon" href="data:,">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel='stylesheet' href='ASSET_REF_0'>
  </head>
  <body><!--$body$-->
    <script type="module" src='ASSET_REF_1'><\/script>
  </body>
</html>
`,de);var X=d(require("express")),ee=(0,X.default)(),me=process.env.PORT||3e3;ee.get("/",function(s,e){return e.send(Q.body)});V(ee.listen(me));
//__FOOT__
